
// -----------------------------
//  Ecommerce Product List
// -----------------------------


.ecomproductslist {

    &__product-item-article {
        display: -ms-flexbox;
        display: -webkit-flex;
        display: flex;
        -webkit-flex-direction: row;
        -ms-flex-direction: row;
        flex-direction: row;
        -webkit-flex-wrap: nowrap;
        -ms-flex-wrap: nowrap;
        flex-wrap: nowrap;
        -webkit-justify-content: center;
        -ms-flex-pack: center;
        justify-content: center;
        -webkit-align-content: center;
        -ms-flex-line-pack: center;
        align-content: center;
        -webkit-align-items: center;
        -ms-flex-align: center;
        align-items: center;

        padding: 3% 20%;
        .transition;
        &:hover {
            background-color: #eeeeee;
        }

        @media @tablet-860px {
            padding: 3% 10%;
        }

        @media @mobile-650px {
            display: block;
            width: 100%;
            padding: 5%;
        }
    }

	&__listing-header {
		.flex-display;
		.flex-wrap(wrap);
        text-align: center;
	}


	&_listing-title,
	&__product-filters,
	&__listing-order {
		width: 100%;
	}


	&__listing-title {
		.flex-order(2);
		padding: 35px 30px 5px;
        width: 100%;
        text-align: center;

        @media @mobile-650px {
            .flex-order(-1);
        }
	}


	&__listing-order {
		.flex-order(3);
		padding: 0 30px 30px;

        @media @mobile-650px {
            .flex-order(0);
            padding-bottom: 20px;
        }
	}


	&__product-item {
        max-width: 100%;
		padding: 0;

        @media @mobile-650px {
            max-width: 100%;
        }
	}

    &__product-item-image {
        -webkit-order: 2;
        -ms-flex-order: 2;
        order: 2;
        -webkit-flex: 1 1 50%;
        -ms-flex: 1 1 50%;
        flex: 1 1 50%;
        -webkit-align-self: center;
        -ms-flex-item-align: center;
        align-self: center;
    }


    &__product-content {
        -webkit-order: 1;
        -ms-flex-order: 1;
        order: 1;
        -webkit-flex: 1 1 50%;
        -ms-flex: 1 1 50%;
        flex: 1 1 50%;
        -webkit-align-self: center;
        -ms-flex-item-align: center;
        align-self: center;

        padding-top: 5px;
        text-align: center;

        @media @tablet-860px {
            padding-top: 0;
        }
    }


	&__product-item-image,
	&__image-link {
		line-height: 100%!important;
		height: auto!important;
	}


    &__image.image--thumb {
        max-height: 450px;

        @media @tablet {
            max-height: 350px;
        }
    }


    &__product-item-title,
    &__title-link {
        color: @color__h2--text;
        font-size: 26px;
        line-height: 34px;
        padding-bottom: 0;

        @media @mobile-650px {
            font-size: 22px;
            line-height: 30px;
        }
    }


    &__product-item-price {
        color: @color__ecomproduct-price--text;
        font-family: @font-swatch2-font-family;
        font-size: 23px;

        @media @mobile-650px {
            font-size: 19px;
            line-height: 27px;
        }
    }


    &__listing-footer {
        margin: 50px 30px 0;
        padding: 0 0 30px;
    }


    &__pagination-list {
        .flex-display;
        .justify-content(center);
    }


    &__button.button--pagination {
        background: transparent;
        border: 1px solid darken(@color__container--background, 10%);
        color: @color__p--text;
        display: inline-block;
        font-size: 15px!important;
        margin: 0 5px;
        padding: 8px 14px;


        &:before,
        &:after {
            display: none;
            visibility: hidden;
        }
    }
}




// -----------------------------
//  Ecommerce Filters
// -----------------------------


.toggle-filter {
    cursor: pointer;
    position: absolute;
    height: 20px;
    right: 20px;
    top: 80px;
    .transform(rotate(90deg));

    &:hover .toggle-item {
         background: @color__button--background;
    }


    .animate {
        background: fade(@color__button--background, 50%);
        .border-radius(50%);
        position: absolute;
        top: 50%;
        left: 50%;
        opacity: 1;
        .transform(translate(-50%, -50%));
        z-index: -1;
    }


    .toggle-items .toggle-item {
        background: fade(@color__button--background, 50%);
        .border-radius(50%);
        float: left;
        margin: 0 3px;
        position: relative;
        left: 0;
        height: 5px;
        width: 5px;
        .transition(.5s cubic-bezier(.55, 0, .1, 1));
    }

    &.active {
        top: 252px;

        @media @tablet-860px {
            top: 268px;
        }

        @media @mobile-650px {
            top: 85px;
        }

        .toggle-item {
            opacity: 0;
        }

        .toggle-active {
            transform: translate(-50%, -50%) scale(1) rotate(45deg);
            -webkit-transform: translate(-50%, -50%) scale(1) rotate(45deg);
            -ms-transform: translate(-50%, -50%) scale(1) rotate(45deg);
        }

        .toggle-after:before,
        .toggle-acive:after {
            transform: translate(-50%, -50%);
            -webkit-transform: translate(-50%, -50%) rotate(45deg);
            -ms-transform: translate(-50%, -50%);
        }
    }

    .toggle-active {
        background: fade(@color__button--background, 45%);
        .border-radius(50%);
        position: absolute;
        top: 50%;
        left: 50%;
        opacity: 1;
        height: 30px;
        width: 30px;

        transform: translate(-50%, -50%) scale(0) rotate(270deg);
        -webkit-transform: translate(-50%, -50%) scale(0) rotate(270deg);
        -ms-transform: translate(-50%, -50%) scale(0) rotate(270deg);
        .transition(.5s cubic-bezier(.55, 0, .1, 1));
        z-index: 2;

        &:before,
        &:after {
            background: white;
            content: "";
            position: absolute;
            top: 51%;
            left: 52%;

            .transform(translate(-50%, -50%));
            z-index: 2;
        }

        &:before {
            width: 2px;
            height: 14px;
        }

        &:after {
            width: 14px;
            height: 2px;
        }
    }
}



// Product Search
.fieldset--search {


	.form-body {
		position: relative;
	}


    // Input and Button Full Width at Mobile
    .form-group {
    	margin-bottom: 0;


    	&:hover {
    		background-color: transparent;
    	}


        // Input Container
        &:first-child {

			@media only screen and (max-width: 900px) {
				width: 100%;
			}

			@media @tablet-860px {
				width: auto;
			}

			@media @mobile-650px {
				margin-right: 0;
			}
		}


		input {
			font-family: @font-swatch4-font-family;
			-webkit-appearance: none;
			-moz-appearance: none;
			appearance: none;
			border: none;
			border-radius: 0;
			font-size: 12px;
			font-weight: 500;
			height: 54px;
			padding: 0 12px;
			text-transform: uppercase;
		}


		// Button Container
        &:last-child {
        	margin-right: 0;
        	position: absolute;
        	right: 12px;
        	top: 44px;

        	@media @mobile-650px {
        		right: 0;
        	}
        }
    }


    .button--clear {
    	background: #B83838 image('/images/cancel-icon.png') no-repeat center;
    	height: 54px;
    	width: 55px;
    	white-space: nowrap;
    	text-indent: -99999px;


    	&:hover {
    		background-color: darken(#B83838, 10%);
    	}
    }


    .ecomproductslist__button {
    	background-color: transparent;
        border-left: 1px solid gainsboro;
        color: @color__footer--background;;
        font-size: 12px;
        height: 54px;
    }
}


// Keep Search Inputs and Button inline at Mobile
.product-filters .fieldset--search {
	.form-body {
		@media @mobile-650px {
			.flex-wrap(nowrap);
		}
	}
}


// Keeps filter toggle icon in correct postioning
.filter-container {
    position: relative;
}



// Bring Search and Filters Inline
// ------------------------------------------

// Form Container
form.ecomproductslist__form {
	.flex-display;
	.justify-content(space-between);
    padding: 35px 30px 30px;

	@media @mobile-650px {
		display: block;
	}

	// Search
	.fieldset--search {
        border: 0;
		.flex(0 1 auto);
		min-width: 25%;

		@media only screen and (max-width: 900px) {
			padding: 0 0 15px 0;
		}

        @media @tablet-860px {
            min-width: 35%;
        }
	}

	.fieldset--filters {
		.flex(1 1 auto);
	}
}

// Product Filters
.product-filters {
    background-color: @color__footer--background;
    .flex-order(1);
    max-height: 0;
    opacity: 0;
    padding: 0;
    transition: all 0.35s ease-in-out, max-height 0.25s ease-in-out;
    visibility: hidden;

	// Legend
	legend {
		display: none;
	}

    // Labels
    .ecomproductslist__label {
    	color: white;
    	font-size: 11px;
    }

    .form-group {
    	display: block;
    }

    // Filters
    .fieldset--filters {

    	.form-body {
    		.flex-display;
    		.justify-content(space-between);

    		@media @mobile-650px {
    			display: block;
    		}
    	}

        .form-group {
            .flex(1 1 auto);

            @media @mobile-650px {
    			display: block;
            	margin-right: 0;
                width: 100%;
            }

            &:last-child {
            	margin-right: 0;
            }
        }
        select {
            border: none;
        	padding-right: 35px;
            width: 100%;

            @media @mobile-650px {
            	padding-right: 0;
            }
        }
    }
}


// Make product filters visible
.filters-open .product-filters {
    max-height: 100%;
    opacity: 1;
    visibility: visible;

    @media @mobile-650px {
        margin-bottom: 30px;
    }
}

// Styles for responsive columns
.responsivecolumns .columns-three-left,
.responsivecolumns .columns-three-middle,
.responsivecolumns .columns-three-right,
.responsivecolumns .columns-four-first,
.responsivecolumns .columns-four-second,
.responsivecolumns .columns-four-third,
.responsivecolumns .columns-four-fourth {


    .ecomproductslist__product-list {
        display: block;
    }


    .ecomproductslist__product-item {
        max-width: 100%;
    }
}

